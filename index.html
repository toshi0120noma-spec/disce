<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Dice Fortune | げーまー哲</title>
<style>
  :root{
    --accent:#24AAED;
    --accent2:#FFD54F;
    --bg:#ffffff;
    --ink:#0a0a0a;
    --soft:#f3f6f9;
    --radius:18px;
    --shadow:0 10px 30px rgba(0,0,0,.08);
  }

  html,body{
    height:100%;
    background:var(--bg);
    color:var(--ink);
    font-family:"Noto Sans JP", system-ui, sans-serif;
  }

  .wrap{max-width:900px;margin:0 auto;padding:24px}
  .card{background:#fff;border-radius:var(--radius);box-shadow:var(--shadow);padding:28px}

  .stage{
    display:grid;
    grid-template-columns:1fr 1fr;
    align-items:center;
    gap:32px;
  }

  .die-area{
    display:flex;
    justify-content:center;
    align-items:center;
    gap:22px;
    position:relative;
  }

  .die{
    width:min(38vw,200px);
    height:min(38vw,200px);
    background-size:contain;
    background-repeat:no-repeat;
    background-position:center;
    position:relative;
    will-change:transform, filter;
    transition:transform 1s cubic-bezier(.2,.7,.2,1);
    filter:drop-shadow(0 10px 18px rgba(0,0,0,.15));
  }

  .die img{
    width:100%;
    height:100%;
    object-fit:contain;
  }

  .num{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    font-weight:900;
    font-size:clamp(28px,6vw,56px);
    color:white;
    text-shadow:0 2px 6px rgba(0,0,0,.4);
    pointer-events:none;
  }

  .die.spin{
    animation:spinY 5s cubic-bezier(.25,.8,.25,1);
  }
  @keyframes spinY{
    0%{transform:rotateY(0deg) rotateX(10deg);}
    90%{transform:rotateY(1500deg) rotateX(10deg);}
    100%{transform:rotateY(1490deg) rotateX(14deg);}
  }

  .result{
    display:flex;
    flex-direction:column;
    gap:10px;
  }

  .fortune-card{
    background:linear-gradient(145deg,#f9f9f9,#ffffff);
    border-radius:12px;
    box-shadow:0 4px 10px rgba(0,0,0,.05);
    padding:16px 20px;
  }

  .fortune-card h3{
    margin:0;
    font-size:clamp(20px,4vw,28px);
    font-weight:800;
  }

  .fortune-card p{
    margin:4px 0 0;
    font-size:15px;
    color:#444;
  }

  .btn{
    background:#222;
    color:#fff;
    border:none;
    border-radius:999px;
    padding:10px 28px;
    font-weight:700;
    cursor:pointer;
    letter-spacing:.05em;
    transition:background .25s;
  }
  .btn:hover{background:#333;}

  @media (max-width:760px){
    .stage{grid-template-columns:1fr;gap:24px;}
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="stage">
        <div class="die-area">
          <div class="die" id="die1">
            <img src="img/d20_a.png" alt="blue die">
            <div class="num" id="num1">–</div>
          </div>
          <div class="die" id="die2">
            <img src="img/d20_b.png" alt="yellow die">
            <div class="num" id="num2">–</div>
          </div>
        </div>
        <div class="result">
          <div class="fortune-card">
            <h3 id="fortune">今日の運勢：—</h3>
            <p id="comment">ダイスを振って今日の運勢を占おう！</p>
            <p id="sum" style="margin-top:6px;font-weight:700;color:#666;"></p>
          </div>
          <button class="btn" id="rollBtn">● ダイスを振る</button>
        </div>
      </div>
    </div>
  </div>

<script>
  const die1 = document.getElementById('die1');
  const die2 = document.getElementById('die2');
  const num1 = document.getElementById('num1');
  const num2 = document.getElementById('num2');
  const fortuneEl = document.getElementById('fortune');
  const commentEl = document.getElementById('comment');
  const sumEl = document.getElementById('sum');
  const rollBtn = document.getElementById('rollBtn');

  const fortunes = {
    "超大吉": ["奇跡の一日が始まる！", "最高の結果を掴もう！", "すべてが味方する日。"],
    "大吉": ["最高の一日が待ってる！", "今日は勢いで突っ走れ！", "運気MAX！いざ冒険へ！"],
    "中吉": ["いい感じ。流れに乗ろう。", "少しの工夫で大きな成果が出そう。", "穏やかな幸運が訪れる日。"],
    "小吉": ["無理せず行こう。", "静かな努力が後で実を結ぶ。", "控えめが吉。"],
    "末吉": ["小さな幸せに気づこう。", "一歩ずつ前進！", "今は充電の時。"],
    "凶": ["ダイスは気まぐれ…でも次が本番！", "落ち込むな！再挑戦チャンス！", "これは逆に幸運の前触れかも？"],
    "大凶": ["嵐の前の静けさ…", "逆境こそチャンス！", "一呼吸おこう。"]
  };

  function getFortune(n1,n2){
    if(n1===20 && n2===20) return "超大吉";
    if(n1===n2) return "大吉";
    const sum = n1+n2;
    if(sum>=35) return "中吉";
    if(sum>=25) return "小吉";
    if(sum>=15) return "末吉";
    if(sum>=10) return "凶";
    return "大凶";
  }

  function rollDie(){
    die1.classList.remove('spin');
    die2.classList.remove('spin');
    void die1.offsetWidth; void die2.offsetWidth;
    die1.classList.add('spin');
    die2.classList.add('spin');

    setTimeout(()=>{
      const n1 = Math.ceil(Math.random()*20);
      const n2 = Math.ceil(Math.random()*20);
      num1.textContent = n1;
      num2.textContent = n2;
      const fortune = getFortune(n1,n2);
      const msgs = fortunes[fortune];
      const msg = msgs[Math.floor(Math.random()*msgs.length)];
      const sum = n1===n2 ? `⚫︎のゾロ目` : `合計：${n1+n2}`;
      fortuneEl.textContent = `今日の運勢：${fortune}`;
      commentEl.textContent = msg;
      sumEl.textContent = sum;
    },4800);
  }

  rollBtn.addEventListener('click', rollDie);
</script>
</body>
</html>


